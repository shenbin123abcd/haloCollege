{"version":3,"sources":["gulpfile.js"],"names":[],"mappings":"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","file":"gulpfile-compiled.js","sourcesContent":["'use strict';\r\nvar gulp = require('gulp');\r\nvar gulpLoadPlugins = require('gulp-load-plugins');\r\nvar plugins = gulpLoadPlugins();\r\nvar sourcemaps = require('gulp-sourcemaps');\r\n\r\nvar webpack = require(\"webpack\");\r\nvar webpackStream = require('webpack-stream');\r\n\r\nvar browserSync = require('browser-sync').create();\r\nvar devip = require('dev-ip');\r\nvar appConfig = {\r\n    themeSrc:'./',\r\n    themeDist:'../../Public/Ke',\r\n    themeViewDist:'../../Application/Ke/View/Index',\r\n    port:9201,\r\n};\r\n\r\n//console.log(devip());\r\n\r\n\r\ngulp.task('sass', function () {\r\n    return gulp.src([`${appConfig.themeSrc}/css/*.scss`])\r\n        .pipe(sourcemaps.init())\r\n        .pipe(plugins.sass({outputStyle: 'compact'}).on('error', plugins.sass.logError))\r\n        .pipe(sourcemaps.write())\r\n        .pipe(gulp.dest(`${appConfig.themeSrc}/css`));\r\n});\r\n\r\n\r\ngulp.task('copy:css',['sass'], function () {\r\n    return gulp.src([`${appConfig.themeSrc}/css/**/*.{css,map}`])\r\n        .pipe(gulp.dest(`${appConfig.themeDist}/css`));\r\n});\r\n\r\n\r\ngulp.task('copy:js', function () {\r\n    return gulp\r\n        .src([`${appConfig.themeSrc}/js/*.js`])\r\n        .pipe(plugins.cached('myjs'))\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: `/Public/Ke`,\r\n            //defaultCDNBase: \"../\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            matchers: [\r\n                /([\"'`])(.+?)([\"'`])/gi,\r\n            ],\r\n            fallback: false,\r\n            files: [\r\n                '/images/**/*',\r\n            ]\r\n        }))\r\n        .pipe(plugins.babel({\r\n            presets: ['es2015']\r\n        }))\r\n        .on('error', function(e) {\r\n            console.error(e);\r\n            this.emit('end');\r\n        })\r\n        .pipe(gulp.dest(`${appConfig.themeDist}/js`))\r\n        ;\r\n});\r\n\r\n\r\ngulp.task('images', function () {\r\n    return gulp.src([`${appConfig.themeSrc}/images/**/*.{png,gif,jpg,svg,mp3,mp4}`])\r\n    // .pipe(plugins.imagemin())\r\n        .pipe(plugins.rev())\r\n        .pipe(gulp.dest(`${appConfig.themeDist}/images`))\r\n        .pipe(plugins.rev.manifest())\r\n        .pipe(gulp.dest('tmp/images'))\r\n});\r\ngulp.task('images:dev', function () {\r\n    return gulp.src([`${appConfig.themeSrc}/images/**/*.{png,gif,jpg,svg,mp3,mp4}`])\r\n    // .pipe(plugins.imagemin())\r\n        .pipe(gulp.dest(`${appConfig.themeDist}/images`))\r\n});\r\n\r\n\r\ngulp.task('fakedata', function (cb) {\r\n    exec('node fakedata/fakeapi.js', function (err, stdout, stderr) {\r\n        console.log(stdout);\r\n        console.log(stderr);\r\n        cb(err);\r\n    });\r\n})\r\ngulp.task('build',['sass','images','webpack'], function () {\r\n    var htmlFilter = plugins.filter('**/*.html',{restore: true});\r\n    var jsFilter = plugins.filter('**/*.js',{restore: true});\r\n    var jsAppFilter = plugins.filter(`**/hb.drag.js`,{restore: true});\r\n    var jsVenderFilter = plugins.filter('**/vender.js',{restore: true});\r\n    var cssFilter = plugins.filter('**/*.css',{restore: true});\r\n    var manifestHtml = gulp.src(\"tmp/images/rev-manifest.json\");\r\n    var manifestCss = gulp.src(\"tmp/images/rev-manifest.json\");\r\n    var manifestJs = gulp.src(\"tmp/images/rev-manifest.json\");\r\n    return gulp.src('app/index.html')\r\n        .pipe(plugins.useref())\r\n        .pipe(jsFilter)\r\n        .pipe(plugins.revReplace({manifest: manifestJs}))\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: `/Public/Ke`,\r\n            //defaultCDNBase: \"../\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            matchers: [\r\n                /([\"'`])(.+?)([\"'`])/gi,\r\n            ],\r\n            fallback: false,\r\n            files: [\r\n                '/images/**/*',\r\n            ]\r\n        }))\r\n\r\n        .pipe(plugins.rev())\r\n        .pipe(plugins.babel({\r\n            presets: ['es2015']\r\n        }))\r\n        .pipe(plugins.uglify())\r\n        .pipe(gulp.dest(`${appConfig.themeDist}`))\r\n        .pipe(jsFilter.restore)\r\n        .pipe(cssFilter)\r\n        .pipe(plugins.revReplace({manifest: manifestCss}))\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: `/Public/Ke`,\r\n            // defaultCDNBase: \"http://7ktq5x.com1.z0.glb.clouddn.com/Wfc2016/supplier\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            relativeRoot: 'css',\r\n            // matchers: [\r\n            //     /([\"'`\\(])(.+?)([\"'`\\)])/gi,\r\n            // ],\r\n            // fallback: false,\r\n            files: [\r\n                'images/**/*.{jpg,png,mp3,mp4}',\r\n            ]\r\n        }))\r\n        .pipe(plugins.autoprefixer({\r\n            browsers:  ['> 0%'],\r\n            cascade: false\r\n        }))\r\n        .pipe(plugins.csso())\r\n        .pipe(plugins.rev())\r\n        // .pipe(gulp.dest('./tmp'))\r\n        .pipe(gulp.dest(`${appConfig.themeDist}`))\r\n        .pipe(cssFilter.restore)\r\n        .pipe(plugins.revReplace({\r\n            replaceInExtensions: ['.js', '.css', '.html', '.ejs']\r\n        }))\r\n        .pipe(htmlFilter)\r\n        .pipe(plugins.revReplace({manifest: manifestHtml}))\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: \"__PUBLIC__/Ke\",\r\n            // defaultCDNBase: \"http://7ktq5x.com1.z0.glb.clouddn.com/Wfc2016/supplier\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            files: [\r\n                // 'js/vender-*.js',\r\n                // 'css/vender-*.js',\r\n                // {\r\n                //     file: 'js/**/*.js',\r\n                //     cdn: '../tmp/js/${ filename }'\r\n                // },\r\n                // {\r\n                //     file: 'css/**/*.css',\r\n                //     cdn: '../tmp/css/${ filename }'\r\n                // },\r\n                // Thi\r\n                // s file is on the default CDN, and will replaced with //my.cdn.host/base/js/app.js\r\n                'css/**/*.css',\r\n                'js/**/*.js',\r\n                // 'js/hb.js',\r\n                // 'images/**/*.{jpg,png,mp3,mp4}',\r\n            ]\r\n        }))\r\n        .pipe(plugins.htmlmin({\r\n            removeComments: true,\r\n            collapseWhitespace: true,\r\n            conservativeCollapse: true,\r\n            ignoreCustomFragments: [ /<%[\\s\\S]*?%>/, /<\\?[\\s\\S]*?\\?>/, /<include[\\s\\S]*?\\/>/,/<else\\/>/ ],\r\n            minifyJS: false,\r\n            minifyCSS: false,\r\n        }))\r\n        .pipe(gulp.dest(`${appConfig.themeViewDist}`))\r\n        // .pipe(gulp.dest('dest'))\r\n        .pipe(htmlFilter.restore)\r\n});\r\n\r\ngulp.task('copy:view', ['copy:css'],function () {\r\n    var htmlFilter = plugins.filter(`**/*.html`,{restore: true});\r\n    return gulp\r\n        .src([`${appConfig.themeSrc}app/**/*.html`])\r\n        .pipe(htmlFilter)\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: `/`,\r\n            //defaultCDNBase: \"../\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            relativeRoot: 'app/app/app',\r\n            files: [\r\n                // Thi\r\n                // s file is on the default CDN, and will replaced with //my.cdn.host/base/js/app.js\r\n                'Public/Ke/**/*.js',\r\n                //'public/images/**/*.{jpg,png,mp3,mp4}',\r\n            ]\r\n        }))\r\n        .pipe(plugins.cdnizer({\r\n            defaultCDNBase: `__PUBLIC__/Ke`,\r\n            //defaultCDNBase: \"../\",\r\n            allowRev: true,\r\n            allowMin: true,\r\n            relativeRoot: 'app',\r\n            files: [\r\n                // Thi\r\n                // s file is on the default CDN, and will replaced with //my.cdn.host/base/js/app.js\r\n                'css/**/*.css',\r\n                'js/**/*.js',\r\n                //'public/images/**/*.{jpg,png,mp3,mp4}',\r\n            ]\r\n        }))\r\n        .pipe(gulp.dest(`${appConfig.themeViewDist}`))\r\n        ;\r\n});\r\n\r\ngulp.task('clean', require('del').bind(null, [\r\n    `${appConfig.themeDist}/*`,\r\n    `${appConfig.themeViewDist}/*`,\r\n],{force:true}));\r\n\r\ngulp.task('dev', ['clean'], function() {\r\n    gulp.start('watch:dev');\r\n});\r\ngulp.task('default',['clean'], function() {\r\n    //gulp.start('build');\r\n    gulp.start('build');\r\n});\r\n\r\ngulp.task(\"watch:dev\", ['copy:view','copy:css','copy:js','images:dev'], function(){\r\n    gulp.watch([`${appConfig.themeSrc}/css/**/*.scss`], ['copy:css']);\r\n    gulp.watch([`${appConfig.themeSrc}/js/**/*.js`], ['copy:js']);\r\n    gulp.watch([`${appConfig.themeSrc}/**/*.html`], ['copy:view']);\r\n    gulp.watch([`${appConfig.themeSrc}/images/**/*.*`], ['images:dev']);\r\n    gulp.start('webpack:dev');\r\n});\r\n\r\ngulp.task(\"webpack:dev\", function(callback) {\r\n    var webpackConfig=require('./webpack.config.dev.js');\r\n    return webpack( webpackConfig, function(err, stats) {\r\n        if(err) throw new plugins.util.PluginError(\"webpack\", err);\r\n        plugins.util.log(\"[webpack]\", stats.toString({\r\n            // output options\r\n        }));\r\n        //gutil.log(\"[webpack]\", \"Gonna sit around and watch for file changes. CTRL^C to kill me\");\r\n        // callback();\r\n    });\r\n});\r\n\r\ngulp.task(\"webpack:ewteert\", function(callback) {\r\n    var webpackConfig=require('./webpack.config.js');\r\n    return gulp.src('app/entry.js')\r\n        .pipe(webpackStream( webpackConfig ))\r\n        .pipe(gulp.dest(`tmp`))\r\n        ;\r\n});\r\ngulp.task(\"webpack\", function(callback) {\r\n    var webpackConfig=require('./webpack.config.js');\r\n    return webpack( webpackConfig, function(err, stats) {\r\n        if(err) throw new plugins.util.PluginError(\"webpack\", err);\r\n        plugins.util.log(\"[webpack]\", stats.toString({\r\n            // output options\r\n        }));\r\n        //gutil.log(\"[webpack]\", \"Gonna sit around and watch for file changes. CTRL^C to kill me\");\r\n        callback();\r\n    });\r\n});\r\n"]}